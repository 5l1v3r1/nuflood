{
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "elevationPath": {
            "description": "Path to the topobathymetric elevation raster.",
            "type": "string"
        },
        "depthPath": {
            "description": "Path to the initial water depth raster.",
            "type": "string"
        },
        "waterSurfaceElevationPath": {
            "description": "Path to the initial water surface elevation raster.",
            "type": "string"
        },
        "pointSources": {
            "description": "An array of point sources with corresponding water surface elevations.",
            "type": "array",
            "items": {
                "$ref": "#/definitions/pointSource"
            }
        },
        "output": {
            "additionalProperties": false,
            "description": "Output properties.",
            "type": "object",
            "properties": {
                "depthPath": {
                    "description": "Path to the resultant depth raster.",
                    "type": "string"
                },
                "waterSurfaceElevationPath": {
                    "description": "Path to the resultant water surface elevation raster.",
                    "type": "string"
                },
                "summaryPath": {
                    "description": "Path to the summary JSON document.",
                    "type": "string"
                }
            }
        }
    },
    "definitions": {
        "pointSource": {
            "additionalProperties": false,
            "type": "object",
            "properties": {
                "x": {
                    "description": "x-coordinate of the point source.",
                    "type": "number"
                },
                "y": {
                    "description": "y-coordinate of the point source.",
                    "type": "number"
                },
                "depth": {
                    "description": "Water depth at the point source location.",
                    "type": "number"
                },
                "waterSurfaceElevation": {
                    "description": "Water surface elevation at the point source location.",
                    "type": "number"
                }
            },
            "required": [
                "x",
                "y"
            ],
            "oneOf": [
                {
                    "required": [
                        "depth"
                    ]
                },
                {
                    "required": [
                        "waterSurfaceElevation"
                    ]
                }
            ]
        }
    },
    "required": [
        "elevationPath"
    ],
    "optional": [
        "output"
    ],
    "oneOf": [
        {
            "required": [
                "depthPath"
            ],
            "optional": [
                "pointSources"
            ]
        },
        {
            "required": [
                "waterSurfaceElevationPath"
            ],
            "optional": [
                "pointSources"
            ]
        },
        {
            "required": [
                "pointSources"
            ],
            "not": {
                "anyOf": [
                    {
                        "required": [
                            "depthPath"
                        ]
                    },
                    {
                        "required": [
                            "waterSurfaceElevation"
                        ]
                    }
                ]
            }
        }
    ]
}
